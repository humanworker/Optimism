<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPTIMISM</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-status" id="loading-status">Initializing application...</div>
        <div class="progress-container" id="progress-container" style="display: none;">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="progress-text" id="progress-text" style="display: none;">0%</div>
    </div>

    <!-- Drop Zone for external files -->
    <div id="drop-zone-indicator">
        <div id="drop-message">Drop image to add to canvas</div>
    </div>

    <!-- Title Bar -->
    <div id="title-bar">
        <div id="nav-controls">
            <div id="breadcrumb-container">
                <!-- Breadcrumbs dynamically added -->
            </div>
            <!-- Quick links container is NOT inside nav-controls -->
         </div>
         <!-- Quick links container IS a direct child of title-bar -->
         <div id="quick-links-container">
             <!-- Quick links dynamically added -->
         </div>
        <div id="right-controls">
             <!-- Buttons like Priorities, Inbox, Arena, Settings dynamically added or managed by JS -->
             <button id="priorities-toggle" class="nav-link">Bookmarks</button> <!-- REMOVED style="display: none;" -->
             <button id="inbox-toggle" class="nav-link">Inbox</button> <!-- REMOVED style="display: none;" -->
             <button id="arena-toggle" class="nav-link" style="display: none;">Show Are.na</button> <!-- Keep this hidden initially maybe? Or control via JS setup -->
             <button id="settings-toggle" class="nav-link">Settings</button>
        </div>
    </div>

    <!-- Main Workspace -->
    <div id="workspace">
        <!-- Elements dynamically added -->
        <div id="content-spacer" style="position: absolute; left: 0; width: 1px; height: 20vh; visibility: hidden; pointer-events: none;"></div>
        <!-- Grid lines dynamically added -->
        <div id="grid-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;"></div>
    </div>

    <!-- Side Panels (Structure Only) -->
    <div id="style-panel" class="side-panel" style="display: none;">
        <!-- Content dynamically added by panel-renderer.js -->
        <!-- Example structure for reference -->
        <!--
        <div class="style-option">
            <div class="option-label">Text Size <span class="shortcut-badges">...</span></div>
            <div class="option-values"> <a href="#" class="option-value" data-size="small">Small</a> ... </div>
        </div>
        <div class="style-option">
             <div class="option-label">Text Color <span class="shortcut-badges">...</span></div>
             <div class="option-values"> <a href="#" class="option-value" data-color="default">Default</a> ... </div>
        </div>
        -->
        <!-- Move to Inbox Option -->
         <div class="style-option" id="move-to-inbox-option">
             <div class="option-label">
                 Move to Inbox
                 <span class="shortcut-badges">
                     <span class="shortcut-badge" title="Move to Inbox">9</span>
                 </span>
             </div>
             <div class="option-values">
                 <a href="#" class="option-value move-to-inbox">Move selected card to Inbox</a>
             </div>
         </div>
    </div>

    <div id="settings-panel" class="side-panel" style="display: none;">
        <!-- Content dynamically added by panel-renderer.js -->
        <!-- Keep structure simple, JS will populate -->
    </div>

    <div id="inbox-panel" class="side-panel" style="display: none;">
        <div class="panel-heading">Inbox</div>
        <div class="inbox-container">
            <!-- Inbox cards dynamically added -->
        </div>
    </div>

    <div id="grid-panel" class="side-panel" style="display: none;">
         <div class="panel-heading">Grid Settings</div>
         <!-- Grid controls structure -->
         <div class="style-option">
             <div class="option-label">Grid <span class="shortcut-badges"><span class="shortcut-badge" title="Toggle Grid">G</span></span></div>
             <div class="option-values">
                 <a href="#" class="option-value" data-grid="off">Off</a>
                 <a href="#" class="option-value" data-grid="on">On</a>
             </div>
         </div>
         <div class="style-option">
             <div class="option-label">Grid Layout</div>
             <div class="option-values grid-input-container">
                 <div class="grid-input-group">
                     <label for="grid-rows">Rows:</label>
                     <div class="number-input-controls">
                         <button class="grid-btn-decrease">-</button>
                         <span class="grid-input-value" id="grid-rows-value">1</span>
                         <button class="grid-btn-increase">+</button>
                     </div>
                 </div>
                 <div class="grid-input-group">
                     <label for="grid-columns">Columns:</label>
                     <div class="number-input-controls">
                         <button class="grid-btn-decrease">-</button>
                         <span class="grid-input-value" id="grid-columns-value">2</span>
                         <button class="grid-btn-increase">+</button>
                     </div>
                 </div>
             </div>
         </div>
    </div>

     <div id="priorities-panel" class="side-panel" style="display: none;">
         <div class="panel-heading">Bookmarks</div>
         <div class="priorities-container">
             <!-- Priority cards dynamically added -->
         </div>
     </div>

    <!-- Modals -->
    <div id="confirmation-dialog" class="modal-overlay" style="display: none;">
        <div class="dialog-content">
            <div class="dialog-title">Confirm Action</div>
            <div class="dialog-message">Are you sure?</div>
            <div class="dialog-buttons">
                <button class="dialog-button cancel-button" id="dialog-cancel">Cancel</button>
                <button class="dialog-button confirm-button" id="dialog-confirm">Confirm</button>
            </div>
        </div>
    </div>

    <div id="backup-reminder-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-title">Backup Reminder</div>
            <div class="modal-message">Would you like to export your data now?</div>
            <div class="modal-buttons">
                <button class="modal-button secondary-button" id="remind-later-button">Remind Me Later</button>
                <button class="modal-button primary-button" id="backup-now-button">Backup Now</button>
            </div>
        </div>
    </div>

    <!-- Debug / Status -->
    <div id="debug-panel" style="display: none;"></div>
    <div id="status-message" style="display: none;">Memory Mode</div>
    <button id="reset-db-button" style="display: none;">Reset Database & Reload</button>

    <!-- Arena Viewport (Dynamically added by arena-manager.js if needed) -->
    <!-- <div id="arena-viewport"> <iframe id="arena-iframe"></iframe> </div> -->
    <!-- <div id="arena-resize-divider"></div> -->

    <!-- Load Main JS Module -->
    <script type="module" src="js/main.js"></script>

</body>
</html>
